import os
import shutil

# Extensiones de imagen a considerar
EXTENSIONES_IMAGEN = ('.jpg', '.jpeg', '.png', '.gif', '.webp', '.bmp')

def procesar_directorio(ruta_base):
    # Lista todos los elementos del directorio
    for elemento in os.listdir(ruta_base):
        ruta_elemento = os.path.join(ruta_base, elemento)

        # Si es un archivo de imagen
        if os.path.isfile(ruta_elemento) and elemento.lower().endswith(EXTENSIONES_IMAGEN):
            nombre_imagen, _ = os.path.splitext(elemento)
            nueva_carpeta = os.path.join(ruta_base, nombre_imagen)

            # Crear carpeta si no existe
            os.makedirs(nueva_carpeta, exist_ok=True)

            # Mover la imagen dentro de la carpeta (puedes comentar esta l√≠nea si no quieres moverla)
            nueva_ruta = os.path.join(nueva_carpeta, elemento)
            shutil.move(ruta_elemento, nueva_ruta)

            print(f"‚úÖ Imagen '{elemento}' movida a '{nueva_carpeta}'")

        # Si es una carpeta, entrar recursivamente
        elif os.path.isdir(ruta_elemento):
            procesar_directorio(ruta_elemento)


if __name__ == "__main__":
    ruta_inicial = input("Ingresa la ruta del directorio base: ").strip()

    if os.path.exists(ruta_inicial):
        procesar_directorio(ruta_inicial)
        print("\nüéâ Proceso completado.")
    else:
        print("‚ùå La ruta especificada no existe.")
